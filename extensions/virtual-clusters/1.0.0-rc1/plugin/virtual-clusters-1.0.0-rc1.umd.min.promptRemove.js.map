{"version":3,"file":"virtual-clusters-1.0.0-rc1.umd.min.promptRemove.js","mappings":"yMAAA,IAAIA,EAAU,EAAQ,OAClBC,EAAW,EAAQ,OAgBvB,SAASC,EAAIC,GACX,OAAQA,GAASA,EAAMC,OACnBJ,EAAQG,EAAOF,GACf,CACN,CAEAI,EAAOC,QAAUJ,C,oBCdjB,SAASF,EAAQG,EAAOI,GACtB,IAAIC,EACAC,GAAS,EACTL,EAASD,EAAMC,OAEnB,QAASK,EAAQL,EAAQ,CACvB,IAAIM,EAAUH,EAASJ,EAAMM,SACbE,IAAZD,IACFF,OAAoBG,IAAXH,EAAuBE,EAAWF,EAASE,EAExD,CACA,OAAOF,CACT,CAEAH,EAAOC,QAAUN,C,+PC0BfY,EAAAA,EAAAA,oBAmBM,a,2CAlBDC,EAAAC,EAAE,kCAAmC,CAApCC,KAA4CC,EAAAC,IAAIC,UAAY,IAAC,I,qBAAAC,EAAAA,EAAAA,oBAAqC,uB,GAAjBC,EAAAC,iBAG7EL,EAAAM,uB,kBADRC,EAAAA,EAAAA,aAeSC,EAAA,C,MAbPC,MAAM,QACNC,MAAM,W,uBA1BM,IAIL,CAyBCN,EAAAO,S,kBADRJ,EAAAA,EAAAA,aAIEK,EAAA,C,MAFAC,EAAE,2CACDC,MAAOd,EAAAM,sB,uCAEVC,EAAAA,EAAAA,aAIEK,EAAA,C,MAFAC,EAAE,oCACDC,MAAOd,EAAAM,sB,uHA3DhB,GACES,KAAM,mCAENC,WAAY,CAAEC,OAAMA,EAAAA,QAEpBC,MAAO,CACLC,MAAO,CACLpB,KAASqB,MACTC,QAASA,IAAM,IAEjBC,MAAO,CACLvB,KAASqB,MACTC,QAASA,IAAM,KAKnB,WAAME,GACJ,MAAMC,QAAeC,QAAQC,IAAIC,KAAKR,MAAMS,IAAKC,GAAWA,EAAOC,8BAEnEH,KAAKrB,qBAAuBpB,IAAIsC,EAClC,EAEAO,IAAAA,GACE,MAAO,CACLzB,qBAAsB,EACtBL,IAAGA,EAAAA,GAEP,EAEA+B,SAAU,CACRrB,MAAAA,GACE,OAAOgB,KAAKR,OAAO/B,QAAUuC,KAAKR,OAAO/B,OAAS,CACpD,EAEAiB,aAAAA,GACE,OAAOA,EAAAA,EAAAA,IAAcsB,KAAKL,MAAO,KAAMK,KAAKM,OAAOC,QAAQ,UAC7D,I,WCtCJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://virtual-clusters-1.0.0-rc1/../../node_modules/lodash/sum.js","webpack://virtual-clusters-1.0.0-rc1/../../node_modules/lodash/_baseSum.js","webpack://virtual-clusters-1.0.0-rc1/./promptRemove/k3k.io.virtualclusterpolicy.vue","webpack://virtual-clusters-1.0.0-rc1/./promptRemove/k3k.io.virtualclusterpolicy.vue?d56f"],"sourcesContent":["var baseSum = require('./_baseSum'),\n    identity = require('./identity');\n\n/**\n * Computes the sum of the values in `array`.\n *\n * @static\n * @memberOf _\n * @since 3.4.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 2, 8, 6]);\n * // => 20\n */\nfunction sum(array) {\n  return (array && array.length)\n    ? baseSum(array, identity)\n    : 0;\n}\n\nmodule.exports = sum;\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseSum;\n","<script>\nimport { K3K } from '../types';\nimport { resourceNames } from '@shell/utils/string';\nimport { Banner } from '@rancher/components';\nimport sum from 'lodash/sum';\n\nexport default {\n  name: 'VirtualClusterPolicyPromptRemove',\n\n  components: { Banner },\n\n  props: {\n    value: {\n      type:    Array,\n      default: () => []\n    },\n    names: {\n      type:    Array,\n      default: () => []\n    },\n\n  },\n\n  async fetch() {\n    const counts = await Promise.all(this.value.map((policy) => policy.fetchAssignedClusterCount()));\n\n    this.assignedClusterCount = sum(counts);\n  },\n\n  data() {\n    return {\n      assignedClusterCount: 0,\n      K3K,\n    };\n  },\n\n  computed: {\n    isBulk() {\n      return this.value?.length && this.value?.length > 1;\n    },\n\n    resourceNames() {\n      return resourceNames(this.names, null, this.$store.getters['i18n/t']);\n    }\n  },\n};\n</script>\n\n<template>\n  <div>\n    {{ t('promptRemove.attemptingToRemove', { type: K3K.POLICY }) }} <span v-clean-html=\"resourceNames\" />\n\n    <Banner\n      v-if=\"assignedClusterCount\"\n      class=\"mt-20\"\n      color=\"warning\"\n    >\n      <t\n        v-if=\"isBulk\"\n        k=\"k3k.policy.promptRemove.multiplePolicies\"\n        :count=\"assignedClusterCount\"\n      />\n      <t\n        v-else\n        k=\"k3k.policy.promptRemove.onePolicy\"\n        :count=\"assignedClusterCount\"\n      />\n    </Banner>\n  </div>\n</template>\n","import { render } from \"./k3k.io.virtualclusterpolicy.vue?vue&type=template&id=b004e8d2\"\nimport script from \"./k3k.io.virtualclusterpolicy.vue?vue&type=script&lang=js\"\nexport * from \"./k3k.io.virtualclusterpolicy.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["baseSum","identity","sum","array","length","module","exports","iteratee","result","index","current","undefined","_createElementBlock","_ctx","t","type","$data","K3K","POLICY","_createElementVNode","$options","resourceNames","assignedClusterCount","_createBlock","_component_Banner","class","color","isBulk","_component_t","k","count","name","components","Banner","props","value","Array","default","names","fetch","counts","Promise","all","this","map","policy","fetchAssignedClusterCount","data","computed","$store","getters","__exports__","render"],"sourceRoot":""}